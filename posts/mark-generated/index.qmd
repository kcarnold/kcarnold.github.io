---
title: "Transparency for Generated Text"
date: "2023-02-17"
categories: ["ml", "llm", "nlp"]
---

How should we indicate that some text has been automatically generated? 

A few dimensions in the design space:

1. How visible?
    - do you need to copy the text into a different tool to see if it's autogen?
    - could you notice it from close study, e.g., slight differences in typography or little extra markers over some letters?
    - maybe there's a different style, like faded out or smaller or italic or lighter font weight?
2. How encoded?
    - Formatting might not copy-paste.
    - Unicode symbols are a good option:
        - Interpuncts between words Â·, or some other [whitespace character](https://en.wikipedia.org/wiki/Whitespace_character)
        - [Combining characters](https://en.wikipedia.org/wiki/Combining_character) with some characters (but what about if the language actually uses these characters?)
    - There are lots of invisible marks in Unicode - search for Unicode Steganography.
3. What gets marked?
    - Do we mark every generated character?
    - Every generated word?
    - Some generated words?
    - Proportional to how much information the model added (i.e., its total logprob?)

For example, this is what GitHub Copilot generated when I started this blog post.

```{python}
doc = """

Some people have proposed fancy watermarks, but I think that's a bit too much. I think we should just add a simple line at the end of the text, like this:

> This text was generated by a machine learning model.

I think this is a good compromise between transparency and aesthetics. It's not too intrusive, and it's clear that the text was generated by a machine learning model.

## Why is this important?

I think it's important to be transparent about the fact that some text has been generated by a machine learning model. This is because machine learning models are not perfect, and they can make mistakes. For example, a machine learning model might generate text that is offensive or inappropriate. If we don't indicate that the text was generated by a machine learning model, then people might think that the text was written by a human, and they might be offended or upset by it.
"""

import re
```

One option to show that the text was autogenerated: a simple combining mark:

```{python}
print(re.sub(r'(?<=\b\w)', '\u0300', doc))
```

Another option: Interpuncts after each word.

```{python}
after_word_space_re = re.compile(r'(?<=[\w,.?]) ')
print(after_word_space_re.sub('\u00b7', doc))
```
