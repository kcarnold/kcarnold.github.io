{
  "hash": "c6bc7f0925d59059994751926d64aa70",
  "result": {
    "markdown": "---\ntitle: \"Transparency for Generated Text\"\ndate: \"2023-02-17\"\ncategories: [\"ml\", \"llm\", \"nlp\"]\n---\n\nHow should we indicate that some text has been automatically generated? Some have proposed fancy watermarks, but these have the potential for false positives, can be gamed, and aren't actually visible to humans without using a fancy tool. I think it's better if we make it easier for people to mark generated text, so easy that it would be the default.\n\nA few dimensions in the design space:\n\n1. How visible?\n    - do you need to copy the text into a different tool to see if it's autogen?\n    - could you notice it from close study, e.g., slight differences in typography or little extra markers over some letters?\n    - maybe there's a different style, like faded out or smaller or italic or lighter font weight?\n2. How encoded?\n    - Formatting often doesn't copy-paste, especially in text messaging. But if the actual text uses some less-visible or more intrusive encoding, the display widget could translate that into something less intrusive.\n    - Unicode symbols are a good option:\n        - Interpuncts between words ·, or some other [whitespace character](https://en.wikipedia.org/wiki/Whitespace_character)\n        - [Combining characters](https://en.wikipedia.org/wiki/Combining_character) with some characters (but what about if the language actually uses these characters?)\n    - There are lots of invisible marks in Unicode - search for Unicode Steganography. Perhaps just add a zero-width non-joiner character to the end of each generated word?\n3. What gets marked?\n    - Do we mark every generated character?\n    - Every generated word?\n    - Some generated words?\n    - Proportional to how much information the model added (i.e., its total logprob?)\n\nFor example, this is what GitHub Copilot generated when I started this blog post.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nmy_text = \"Some people have proposed fancy watermarks, \" \n\ncompletion = \"\"\"but I think that's a bit too much. I think we should just add a simple line at the end of the text, like this:\n\n> This text was generated by a machine learning model.\n\nI think this is a good compromise between transparency and aesthetics. It's not too intrusive, and it's clear that the text was generated by a machine learning model.\n\n## Why is this important?\n\nI think it's important to be transparent about the fact that some text has been generated by a machine learning model. This is because machine learning models are not perfect, and they can make mistakes. For example, a machine learning model might generate text that is offensive or inappropriate. If we don't indicate that the text was generated by a machine learning model, then people might think that the text was written by a human, and they might be offended or upset by it.\n\"\"\"\n\nimport re\n```\n:::\n\n\nOne option to show that the text was autogenerated: a simple combining mark:\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nprint(my_text + re.sub(r'(?<=\\b\\w)', '\\u0300', completion))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSome people have proposed fancy watermarks, b̀ut Ì t̀hink t̀hat's̀ à b̀it t̀oo m̀uch. Ì t̀hink ẁe s̀hould j̀ust àdd à s̀imple l̀ine àt t̀he ènd òf t̀he t̀ext, l̀ike t̀his:\n\n> T̀his t̀ext ẁas g̀enerated b̀y à m̀achine l̀earning m̀odel.\n\nÌ t̀hink t̀his ìs à g̀ood c̀ompromise b̀etween t̀ransparency ànd àesthetics. Ìt's̀ ǹot t̀oo ìntrusive, ànd ìt's̀ c̀lear t̀hat t̀he t̀ext ẁas g̀enerated b̀y à m̀achine l̀earning m̀odel.\n\n## Ẁhy ìs t̀his ìmportant?\n\nÌ t̀hink ìt's̀ ìmportant t̀o b̀e t̀ransparent àbout t̀he f̀act t̀hat s̀ome t̀ext h̀as b̀een g̀enerated b̀y à m̀achine l̀earning m̀odel. T̀his ìs b̀ecause m̀achine l̀earning m̀odels àre ǹot p̀erfect, ànd t̀hey c̀an m̀ake m̀istakes. F̀or èxample, à m̀achine l̀earning m̀odel m̀ight g̀enerate t̀ext t̀hat ìs òffensive òr ìnappropriate. Ìf ẁe d̀on't̀ ìndicate t̀hat t̀he t̀ext ẁas g̀enerated b̀y à m̀achine l̀earning m̀odel, t̀hen p̀eople m̀ight t̀hink t̀hat t̀he t̀ext ẁas ẁritten b̀y à h̀uman, ànd t̀hey m̀ight b̀e òffended òr ùpset b̀y ìt.\n\n```\n:::\n:::\n\n\nAnother option: Interpuncts after each word.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nafter_word_space_re = re.compile(r'(?<=[\\w,.?]) ')\nprint(my_text + after_word_space_re.sub('\\u00b7', completion))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSome people have proposed fancy watermarks, but·I·think·that's·a·bit·too·much.·I·think·we·should·just·add·a·simple·line·at·the·end·of·the·text,·like·this:\n\n> This·text·was·generated·by·a·machine·learning·model.\n\nI·think·this·is·a·good·compromise·between·transparency·and·aesthetics.·It's·not·too·intrusive,·and·it's·clear·that·the·text·was·generated·by·a·machine·learning·model.\n\n## Why·is·this·important?\n\nI·think·it's·important·to·be·transparent·about·the·fact·that·some·text·has·been·generated·by·a·machine·learning·model.·This·is·because·machine·learning·models·are·not·perfect,·and·they·can·make·mistakes.·For·example,·a·machine·learning·model·might·generate·text·that·is·offensive·or·inappropriate.·If·we·don't·indicate·that·the·text·was·generated·by·a·machine·learning·model,·then·people·might·think·that·the·text·was·written·by·a·human,·and·they·might·be·offended·or·upset·by·it.\n\n```\n:::\n:::\n\n\nEven if we use something like that to mark the text, we could still have it display the text in a visible way.\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\n# encode the generated text with zero-width non-joiners after words.\nencoded_text = re.sub(r'(?<=\\w\\b)', '\\u200c', completion)\n# Note that you can't see the difference in the normal printout\nprint(encoded_text[:30])\n# but you can see it if you look inside\nprint(repr(encoded_text[:30]))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nbut‌ I‌ think‌ that‌'s‌ a‌ bit\n\"but\\u200c I\\u200c think\\u200c that\\u200c's\\u200c a\\u200c bit\"\n```\n:::\n:::\n\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nfrom IPython.display import HTML\ndef format_generated(match):\n    word = match.group(1)\n    return f'<span style=\"color: #444444;\">{word}</span>'\n\ndef pre_line(x): return f'<div style=\"white-space: pre-line;\">{x}</div>'\nHTML(pre_line(re.sub(r'(\\w+)\\u200c', format_generated, encoded_text)))\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<div style=\"white-space: pre-line;\"><span style=\"color: #444444;\">but</span> <span style=\"color: #444444;\">I</span> <span style=\"color: #444444;\">think</span> <span style=\"color: #444444;\">that</span>'<span style=\"color: #444444;\">s</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">bit</span> <span style=\"color: #444444;\">too</span> <span style=\"color: #444444;\">much</span>. <span style=\"color: #444444;\">I</span> <span style=\"color: #444444;\">think</span> <span style=\"color: #444444;\">we</span> <span style=\"color: #444444;\">should</span> <span style=\"color: #444444;\">just</span> <span style=\"color: #444444;\">add</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">simple</span> <span style=\"color: #444444;\">line</span> <span style=\"color: #444444;\">at</span> <span style=\"color: #444444;\">the</span> <span style=\"color: #444444;\">end</span> <span style=\"color: #444444;\">of</span> <span style=\"color: #444444;\">the</span> <span style=\"color: #444444;\">text</span>, <span style=\"color: #444444;\">like</span> <span style=\"color: #444444;\">this</span>:\n\n> <span style=\"color: #444444;\">This</span> <span style=\"color: #444444;\">text</span> <span style=\"color: #444444;\">was</span> <span style=\"color: #444444;\">generated</span> <span style=\"color: #444444;\">by</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">machine</span> <span style=\"color: #444444;\">learning</span> <span style=\"color: #444444;\">model</span>.\n\n<span style=\"color: #444444;\">I</span> <span style=\"color: #444444;\">think</span> <span style=\"color: #444444;\">this</span> <span style=\"color: #444444;\">is</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">good</span> <span style=\"color: #444444;\">compromise</span> <span style=\"color: #444444;\">between</span> <span style=\"color: #444444;\">transparency</span> <span style=\"color: #444444;\">and</span> <span style=\"color: #444444;\">aesthetics</span>. <span style=\"color: #444444;\">It</span>'<span style=\"color: #444444;\">s</span> <span style=\"color: #444444;\">not</span> <span style=\"color: #444444;\">too</span> <span style=\"color: #444444;\">intrusive</span>, <span style=\"color: #444444;\">and</span> <span style=\"color: #444444;\">it</span>'<span style=\"color: #444444;\">s</span> <span style=\"color: #444444;\">clear</span> <span style=\"color: #444444;\">that</span> <span style=\"color: #444444;\">the</span> <span style=\"color: #444444;\">text</span> <span style=\"color: #444444;\">was</span> <span style=\"color: #444444;\">generated</span> <span style=\"color: #444444;\">by</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">machine</span> <span style=\"color: #444444;\">learning</span> <span style=\"color: #444444;\">model</span>.\n\n## <span style=\"color: #444444;\">Why</span> <span style=\"color: #444444;\">is</span> <span style=\"color: #444444;\">this</span> <span style=\"color: #444444;\">important</span>?\n\n<span style=\"color: #444444;\">I</span> <span style=\"color: #444444;\">think</span> <span style=\"color: #444444;\">it</span>'<span style=\"color: #444444;\">s</span> <span style=\"color: #444444;\">important</span> <span style=\"color: #444444;\">to</span> <span style=\"color: #444444;\">be</span> <span style=\"color: #444444;\">transparent</span> <span style=\"color: #444444;\">about</span> <span style=\"color: #444444;\">the</span> <span style=\"color: #444444;\">fact</span> <span style=\"color: #444444;\">that</span> <span style=\"color: #444444;\">some</span> <span style=\"color: #444444;\">text</span> <span style=\"color: #444444;\">has</span> <span style=\"color: #444444;\">been</span> <span style=\"color: #444444;\">generated</span> <span style=\"color: #444444;\">by</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">machine</span> <span style=\"color: #444444;\">learning</span> <span style=\"color: #444444;\">model</span>. <span style=\"color: #444444;\">This</span> <span style=\"color: #444444;\">is</span> <span style=\"color: #444444;\">because</span> <span style=\"color: #444444;\">machine</span> <span style=\"color: #444444;\">learning</span> <span style=\"color: #444444;\">models</span> <span style=\"color: #444444;\">are</span> <span style=\"color: #444444;\">not</span> <span style=\"color: #444444;\">perfect</span>, <span style=\"color: #444444;\">and</span> <span style=\"color: #444444;\">they</span> <span style=\"color: #444444;\">can</span> <span style=\"color: #444444;\">make</span> <span style=\"color: #444444;\">mistakes</span>. <span style=\"color: #444444;\">For</span> <span style=\"color: #444444;\">example</span>, <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">machine</span> <span style=\"color: #444444;\">learning</span> <span style=\"color: #444444;\">model</span> <span style=\"color: #444444;\">might</span> <span style=\"color: #444444;\">generate</span> <span style=\"color: #444444;\">text</span> <span style=\"color: #444444;\">that</span> <span style=\"color: #444444;\">is</span> <span style=\"color: #444444;\">offensive</span> <span style=\"color: #444444;\">or</span> <span style=\"color: #444444;\">inappropriate</span>. <span style=\"color: #444444;\">If</span> <span style=\"color: #444444;\">we</span> <span style=\"color: #444444;\">don</span>'<span style=\"color: #444444;\">t</span> <span style=\"color: #444444;\">indicate</span> <span style=\"color: #444444;\">that</span> <span style=\"color: #444444;\">the</span> <span style=\"color: #444444;\">text</span> <span style=\"color: #444444;\">was</span> <span style=\"color: #444444;\">generated</span> <span style=\"color: #444444;\">by</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">machine</span> <span style=\"color: #444444;\">learning</span> <span style=\"color: #444444;\">model</span>, <span style=\"color: #444444;\">then</span> <span style=\"color: #444444;\">people</span> <span style=\"color: #444444;\">might</span> <span style=\"color: #444444;\">think</span> <span style=\"color: #444444;\">that</span> <span style=\"color: #444444;\">the</span> <span style=\"color: #444444;\">text</span> <span style=\"color: #444444;\">was</span> <span style=\"color: #444444;\">written</span> <span style=\"color: #444444;\">by</span> <span style=\"color: #444444;\">a</span> <span style=\"color: #444444;\">human</span>, <span style=\"color: #444444;\">and</span> <span style=\"color: #444444;\">they</span> <span style=\"color: #444444;\">might</span> <span style=\"color: #444444;\">be</span> <span style=\"color: #444444;\">offended</span> <span style=\"color: #444444;\">or</span> <span style=\"color: #444444;\">upset</span> <span style=\"color: #444444;\">by</span> <span style=\"color: #444444;\">it</span>.\n</div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}